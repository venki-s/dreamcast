{"ast":null,"code":"var _jsxFileName = \"/mnt/hgfs/Downloads/venkat/project/fplan/ui/src/com/fplan/components/signing/Auth.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Signin from \"./SignIn\";\nimport SignUp from \"./SignUp\";\nconst AUTH_URL = \"http://localhost:3001/api/users\";\n\nclass Auth extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.auth = (fname, lname, email, password, isSignup) => {\n      if (isSignup) {\n        this.signUp(fname, lname, email, password);\n      } else {\n        this.signIn(email, password);\n      }\n    };\n\n    this.signIn = (email, password) => {\n      const authData = {\n        email: email,\n        password: password\n      };\n      axios.post(AUTH_URL + \"?action=signin\", authData).then(response => {\n        console.log(response.data);\n        localStorage.setItem(\"token\", response.data);\n        this.props.history.push(\"/signinsuccess\");\n      }).catch(err => {\n        console.log(\"error status \", err);\n      });\n    };\n\n    this.signUp = (fname, lname, email, password) => {\n      const authData = {\n        fname: fname,\n        lname: lname,\n        email: email,\n        password: password\n      };\n      axios.post(AUTH_URL + \"?action=signup\", authData).then(response => {\n        console.log(response.data);\n        this.props.history.push(\"/signupsuccess\");\n      }).catch(err => {\n        console.log(\"error status \", err.response.status);\n        console.log(\"error message \", err.response.data);\n      });\n    };\n\n    this.state = {\n      url: \"\",\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n  componentWillMount() {\n    this.setState({\n      url: window.location.pathname\n    });\n  }\n\n  render() {\n    let signpage = \"\";\n\n    if (this.state.url === \"/signin\") {\n      console.log(\"invoked from Auth js\");\n      signpage = /*#__PURE__*/React.createElement(Signin, {\n        auth: this.auth,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 18\n        }\n      });\n    } else {\n      console.log(\"invoked from Auth js\");\n      signpage = /*#__PURE__*/React.createElement(SignUp, {\n        auth: this.auth,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 18\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 12\n      }\n    }, signpage);\n  }\n\n}\n\nexport default Auth;","map":{"version":3,"sources":["/mnt/hgfs/Downloads/venkat/project/fplan/ui/src/com/fplan/components/signing/Auth.js"],"names":["React","Component","axios","Signin","SignUp","AUTH_URL","Auth","auth","fname","lname","email","password","isSignup","signUp","signIn","authData","post","then","response","console","log","data","localStorage","setItem","props","history","push","catch","err","status","state","url","componentWillMount","setState","window","location","pathname","render","signpage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Signin from \"./SignIn\";\nimport SignUp from \"./SignUp\";\n\nconst AUTH_URL = \"http://localhost:3001/api/users\";\n\nclass Auth extends Component {\n  auth = (fname, lname, email, password, isSignup) => {\n    if (isSignup) {\n      this.signUp(fname, lname, email, password);\n    } else {\n      this.signIn(email, password);\n    }\n  };\n\n  signIn = (email, password) => {\n    const authData = {\n      email: email,\n      password: password,\n    };\n\n    axios\n      .post(AUTH_URL + \"?action=signin\", authData)\n      .then((response) => {\n        console.log(response.data);\n\n        localStorage.setItem(\"token\", response.data);\n        this.props.history.push(\"/signinsuccess\");\n      })\n      .catch((err) => {\n        console.log(\"error status \", err);\n      });\n  };\n\n  signUp = (fname, lname, email, password) => {\n    const authData = {\n      fname: fname,\n      lname: lname,\n      email: email,\n      password: password,\n    };\n\n    axios\n      .post(AUTH_URL + \"?action=signup\", authData)\n      .then((response) => {\n        console.log(response.data);\n\n        this.props.history.push(\"/signupsuccess\");\n      })\n      .catch((err) => {\n        console.log(\"error status \", err.response.status);\n        console.log(\"error message \", err.response.data);\n      });\n  };\n\n  state = {\n    url: \"\",\n    email: \"\",\n    password: \"\",\n  };\n\n  componentWillMount() {\n    this.setState({ url: window.location.pathname });\n  }\n\n  render() {\n    let signpage = \"\";\n\n    if (this.state.url === \"/signin\") {\n      console.log(\"invoked from Auth js\");\n      signpage = <Signin auth={this.auth}></Signin>;\n    } else {\n      console.log(\"invoked from Auth js\");\n      signpage = <SignUp auth={this.auth}></SignUp>;\n    }\n\n    return <div>{signpage}</div>;\n  }\n}\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}