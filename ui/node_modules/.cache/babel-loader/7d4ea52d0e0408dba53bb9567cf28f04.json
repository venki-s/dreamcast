{"ast":null,"code":"var _jsxFileName = \"/mnt/hgfs/Downloads/venkat/project/fplan/ui/src/com/fplan/components/signing/Auth.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Signin from \"./SignIn\";\nimport SignUp from \"./SignUp\";\n\nclass Auth extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.auth = (email, password, isSignup) => {\n      this.setState({\n        email: email,\n        password: password\n      });\n      console.log(\"auth\", email);\n      console.log(\"auth 2\", password);\n      const authData = {\n        email: email,\n        password: password\n      };\n      let url = \"\";\n\n      if (isSignup) {\n        url = \"http://localhost:3001/api/users?action=signup\";\n      } else {\n        url = \"http://localhost:3001/api/users?action=signin\";\n      }\n\n      axios.post(url, authData).then(response => {\n        localStorage.setItem(\"token\", response.data);\n        this.props.history.push(\"/signsuccess\");\n      }).catch(err => {\n        console.log(\"error status \", err.response.status);\n        console.log(\"error message \", err.response.data);\n        this.setState({\n          error: err.response.data\n        });\n      });\n    };\n\n    this.state = {\n      url: \"\",\n      email: \"\",\n      password: \"\",\n      error: \"\"\n    };\n  }\n\n  componentWillMount() {\n    this.setState({\n      url: window.location.pathname\n    });\n  }\n\n  render() {\n    let signpage = \"\";\n\n    if (this.state.url === \"/signin\") {\n      signpage = /*#__PURE__*/React.createElement(Signin, {\n        auth: this.auth,\n        error: this.props.error,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 18\n        }\n      });\n    } else {\n      signpage = /*#__PURE__*/React.createElement(SignUp, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 18\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 12\n      }\n    }, signpage);\n  }\n\n}\n\nexport default Auth;","map":{"version":3,"sources":["/mnt/hgfs/Downloads/venkat/project/fplan/ui/src/com/fplan/components/signing/Auth.js"],"names":["React","Component","axios","Signin","SignUp","Auth","auth","email","password","isSignup","setState","console","log","authData","url","post","then","response","localStorage","setItem","data","props","history","push","catch","err","status","error","state","componentWillMount","window","location","pathname","render","signpage"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,IAAN,SAAmBJ,SAAnB,CAA6B;AAAA;AAAA;;AAAA,SAC3BK,IAD2B,GACpB,CAACC,KAAD,EAAQC,QAAR,EAAkBC,QAAlB,KAA+B;AACpC,WAAKC,QAAL,CAAc;AAAEH,QAAAA,KAAK,EAAEA,KAAT;AAAgBC,QAAAA,QAAQ,EAAEA;AAA1B,OAAd;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBL,KAApB;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBJ,QAAtB;AAEA,YAAMK,QAAQ,GAAG;AACfN,QAAAA,KAAK,EAAEA,KADQ;AAEfC,QAAAA,QAAQ,EAAEA;AAFK,OAAjB;AAKA,UAAIM,GAAG,GAAG,EAAV;;AAEA,UAAIL,QAAJ,EAAc;AACZK,QAAAA,GAAG,GAAG,+CAAN;AACD,OAFD,MAEO;AACLA,QAAAA,GAAG,GAAG,+CAAN;AACD;;AAEDZ,MAAAA,KAAK,CACFa,IADH,CACQD,GADR,EACaD,QADb,EAEGG,IAFH,CAESC,QAAD,IAAc;AAClBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,QAAQ,CAACG,IAAvC;AACA,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,cAAxB;AACD,OALH,EAMGC,KANH,CAMUC,GAAD,IAAS;AACdd,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6Ba,GAAG,CAACR,QAAJ,CAAaS,MAA1C;AACAf,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8Ba,GAAG,CAACR,QAAJ,CAAaG,IAA3C;AACA,aAAKV,QAAL,CAAc;AAAEiB,UAAAA,KAAK,EAAEF,GAAG,CAACR,QAAJ,CAAaG;AAAtB,SAAd;AACD,OAVH;AAWD,KA9B0B;;AAAA,SAgC3BQ,KAhC2B,GAgCnB;AACNd,MAAAA,GAAG,EAAE,EADC;AAENP,MAAAA,KAAK,EAAE,EAFD;AAGNC,MAAAA,QAAQ,EAAE,EAHJ;AAINmB,MAAAA,KAAK,EAAE;AAJD,KAhCmB;AAAA;;AAuC3BE,EAAAA,kBAAkB,GAAG;AACnB,SAAKnB,QAAL,CAAc;AAAEI,MAAAA,GAAG,EAAEgB,MAAM,CAACC,QAAP,CAAgBC;AAAvB,KAAd;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,QAAIC,QAAQ,GAAG,EAAf;;AAEA,QAAI,KAAKN,KAAL,CAAWd,GAAX,KAAmB,SAAvB,EAAkC;AAChCoB,MAAAA,QAAQ,gBAAG,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAE,KAAK5B,IAAnB;AAAyB,QAAA,KAAK,EAAE,KAAKe,KAAL,CAAWM,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX;AACD,KAFD,MAEO;AACLO,MAAAA,QAAQ,gBAAG,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX;AACD;;AAED,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMA,QAAN,CAAP;AACD;;AArD0B;;AAwD7B,eAAe7B,IAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Signin from \"./SignIn\";\nimport SignUp from \"./SignUp\";\n\nclass Auth extends Component {\n  auth = (email, password, isSignup) => {\n    this.setState({ email: email, password: password });\n    console.log(\"auth\", email);\n    console.log(\"auth 2\", password);\n\n    const authData = {\n      email: email,\n      password: password,\n    };\n\n    let url = \"\";\n\n    if (isSignup) {\n      url = \"http://localhost:3001/api/users?action=signup\";\n    } else {\n      url = \"http://localhost:3001/api/users?action=signin\";\n    }\n\n    axios\n      .post(url, authData)\n      .then((response) => {\n        localStorage.setItem(\"token\", response.data);\n        this.props.history.push(\"/signsuccess\");\n      })\n      .catch((err) => {\n        console.log(\"error status \", err.response.status);\n        console.log(\"error message \", err.response.data);\n        this.setState({ error: err.response.data });\n      });\n  };\n\n  state = {\n    url: \"\",\n    email: \"\",\n    password: \"\",\n    error: \"\",\n  };\n\n  componentWillMount() {\n    this.setState({ url: window.location.pathname });\n  }\n\n  render() {\n    let signpage = \"\";\n\n    if (this.state.url === \"/signin\") {\n      signpage = <Signin auth={this.auth} error={this.props.error}></Signin>;\n    } else {\n      signpage = <SignUp></SignUp>;\n    }\n\n    return <div>{signpage}</div>;\n  }\n}\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}